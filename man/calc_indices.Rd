% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/indices_dplyr.R
\name{calc_indices}
\alias{calc_indices}
\title{Calculate length based survey indices}
\usage{
calc_indices(st, le, lwcoeff = c(0.01, 3), stratas, std.towlength = 4,
  std.area = 4 * 17/1852, std.cv = 1)
}
\arguments{
\item{st}{A dataframe with station information. Required columns are
id (unique station id), year, towlength and strata (the strata identifyer).}

\item{le}{A dataframe with length frequency measurements. Required columns are
id (station id), length (the length class) and n (the number of fish measured) where
the latter are the "raised" numbers.}

\item{lwcoeff}{A vector of length 2, containing parameter
a and b of the length weight relationship.}

\item{stratas, }{A dataframe containing columns strata (the strata identifyer)
and area (the strata area).}

\item{std.towlength}{Standard tow length in nautical miles.}

\item{std.area}{Standardized area swept in nautical square miles.}

\item{std.cv}{A multipler (default is 1) on the mean abundance/biomass if only one tow in
a strata. In such cases the cv is set equivalent to the "mean" value.}
}
\value{
Returns a \emph{list} with the following \emph{data.frame}s:
\itemize{
\item \code{base} that contains the statistics by each strata
\itemize{
\item \code{year}: Names/number of the strata
\item ... TODO
}
\item \code{aggr} The total survey index. The columns are:
\itemize{
\item \code{year}: Survey year
\item \code{length}: The length class
\item \code{n}: Abundance index for the given length class
\item \code{n.cv}: cv of the abundance index for a given length class
\item \code{b}: Biomass index for the given length class
\item \code{b.cv}: cv of the biomass index for a given length class
\item \code{cn}: Abundance index of fish smaller than or equal to a given
length class.
\item \code{cn.cv}: cv of the abundance index of fish smaller than or equal
to a given length class
\item \code{cb}: Biomass index of fish greater than or equal to a given
length class.
\item \code{cb.cv}: cv of the biomass index of fish greater than or equal
to a given length class
}
}
}
\description{
Calculates abundance and biomass survey indices based on length
classes for a particular species in a given year.

The function does in principle three things
\itemize{
\item Standardizes value (e.g. number of fish) by tow length.
\item Calculates stratified indices.
\item Aggregates the stratified indices to the total area.
}
}

